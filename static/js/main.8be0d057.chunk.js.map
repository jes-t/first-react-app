{"version":3,"sources":["hoc/withAuthRedirect.js","redux/dialogs-reducer.js","helpers/object-helpers.js","redux/users-reducer.js","logo.png","components/PageNotFound/PageNotFound.js","components/HomePage/HomePage.js","redux/app-reducer.js","redux/profile-reducer.js","components/Profile/MyPosts/Post.js","components/Profile/MyPosts/MyPostForm.js","components/Profile/MyPosts/MyPosts.js","components/Profile/MyPosts/MyPostsContainer.js","components/Profile/ProfileStatus.js","components/Profile/Profile.js","hoc/withSuspense.js","App.js","redux/redux-store.js","index.js","api/api.js","redux/auth-reducer.js"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","props","to","initialState","dialogs","id","firstName","lastName","messages","data","time","userId","message","avatarUrl","dialogsReducer","action","type","newMessage","text","stateCopy","push","newMessageActionCreator","updateObjectInArray","items","itemId","objPropName","newObjProps","map","user","usersArr","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersArrReducer","followed","users","count","filter","follow","unfollow","toggleIsFetching","toggleFollowingProgress","getUsers","dispatch","a","userAPI","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","followThunk","postFollow","bind","unfollowThunk","deleteFollow","module","exports","PageNotFound","status","title","subTitle","extra","href","HomePage","initialized","posts","profile","setStatus","Post","postText","MyPostsForm","addPost","Form","useForm","form","onFinish","values","textInput","setFieldsValue","Item","name","style","marginBottom","rules","pattern","getFieldValue","validator","_","value","length","Promise","resolve","reject","TextArea","autoSize","onChange","e","test","currentTarget","slice","validateFields","width","shouldUpdate","htmlType","disabled","isFieldsTouched","getFieldsError","errors","Container","styled","div","mapDispatchToProps","MyPostsContainer","item","key","i18n","ProfileStatus","useState","editMode","setEditMode","loading","setLoading","useEffect","StyleContainer","onBlur","updateStatus","autoFocus","placeholder","onDoubleClick","undefined","opacity","paddingLeft","getProfileThunk","params","profileAPI","getProfile","response","getUserStatus","getStatus","Profile","compose","useParams","SpinContainer","tip","size","fullName","aboutMe","src","photos","small","withSuspense","fallback","DialogsContainer","lazy","LoginContainer","UsersContainer","Header","Layout","Content","Footer","Sider","Menu","initializeApp","promise","getAuth","all","then","withRouter","app","location","activeKey","setActiveKey","pathname","includes","substring","indexOf","minHeight","className","logo","StyledMenu","theme","selectedKeys","icon","HomeOutlined","ProfileOutlined","UsergroupAddOutlined","CommentOutlined","SettingOutlined","padding","margin","height","exact","path","component","render","textAlign","reducers","combineReducers","obj","authReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","ThunkMiddleware","__store__","AppWithRouter","ReactDOM","document","getElementById","instance","axios","withCredentials","baseURL","headers","get","catch","error","console","log","post","delete","put","authAPI","getAuthMe","postLogin","email","password","rememberMe","deleteLogout","login","errorMessage","setAuthUserData","setErrorMessage"],"mappings":"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","file":"static/js/main.8be0d057.chunk.js","sourcesContent":["import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst mapStateToPropsForRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n  }\n}\n\nexport const withAuthRedirect = (Component) => {\n  const RedirectComponent = (props) => {\n    if (!props.isAuth) return <Redirect to=\"/login\" />\n    return <Component {...props} />\n  }\n\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\n    RedirectComponent\n  )\n\n  return ConnectedAuthRedirectComponent\n}\n","const NEW_MESSAGE = 'NEW_MESSAGE'\n\nconst initialState = {\n  dialogs: [\n    {\n      id: 0,\n      firstName: 'Jems',\n      lastName: 'Band',\n      messages: [\n        { data: '26.09.2020', time: '21:00', userId: 0, message: 'gfhdhhd!' },\n        {\n          data: '26.09.2020',\n          time: '21:02',\n          userId: 1,\n          message: 'gfhdhjd! Как дела?',\n        },\n        {\n          data: '26.09.2020',\n          time: '21:05',\n          userId: 0,\n          message: 'Нормально, а у yefdmkfbs?',\n        },\n      ],\n      avatarUrl:\n        'https://sun9-8.userapi.com/o4uD1PeHB2-m8Db3_tPtHnc4MjmDO4Tv4YF4xw/KT8-N1tVDSY.jpg',\n    },\n    {\n      id: 1,\n      firstName: 'Nyuta',\n      lastName: 'Len',\n      messages: [\n        { data: '26.09.2020', time: '21:00', userId: 1, message: 'gfyyehb!' },\n        {\n          data: '26.09.2020',\n          time: '21:02',\n          userId: 2,\n          message: 'Привет! hyFygd дела?',\n        },\n        {\n          data: '26.09.2020',\n          time: '21:05',\n          userId: 1,\n          message: 'Нормально, а у тебя?',\n        },\n      ],\n      avatarUrl:\n        'https://sun9-38.userapi.com/s2Q9Sx9JrvmrGNf4VLI3Q1K3PLq7wdgtyP6tpw/MJU6_Gke5xk.jpg',\n    },\n    {\n      id: 2,\n      firstName: 'Rob',\n      lastName: 'Stark',\n      messages: [\n        { data: '26.09.2020', time: '21:00', userId: 2, message: 'Привет!' },\n        {\n          data: '26.09.2020',\n          time: '21:02',\n          userId: 1,\n          message: 'Привет! Как дела?',\n        },\n        {\n          data: '26.09.2020',\n          time: '21:05',\n          userId: 2,\n          message: 'Нормально, а у тебя как?',\n        },\n      ],\n      avatarUrl:\n        'https://sun9-25.userapi.com/iygXKWZTY6JJq7MHonu84abE2JNwtvyeVtBH3Q/37ktCVugVA0.jpg',\n    },\n  ],\n}\n\nexport const dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case NEW_MESSAGE:\n      const newMessage = {\n        data: '01.01.2020',\n        time: '00:00',\n        userId: 2,\n        message: action.text,\n      }\n      let stateCopy = {\n        ...state,\n        dialogs: [...state.dialogs],\n        messages: { ...state.dialogs.messages },\n      }\n      stateCopy.dialogs[2].messages.push(newMessage)\n      return stateCopy\n\n    default:\n      return state\n  }\n}\nexport const newMessageActionCreator = (text) => ({\n  text,\n  type: NEW_MESSAGE,\n})\n","export const updateObjectInArray = (\n  items,\n  itemId,\n  objPropName,\n  newObjProps\n) => {\n  return items.map((user) => {\n    if (user[objPropName] === itemId) {\n      return { ...user, ...newObjProps }\n    }\n    return user\n  })\n}\n","import { userAPI } from '../api/api'\nimport { updateObjectInArray } from '../helpers/object-helpers'\n\nconst FOLLOW = 'FOLLOW'\nconst UNFOLLOW = 'UNFOLLOW'\nconst SET_USERS = 'SET_USERS'\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\n\nconst initialState = {\n  usersArr: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n}\n\nexport const usersArrReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        usersArr: updateObjectInArray(state.usersArr, action.userId, 'id', {\n          followed: true,\n        }),\n      }\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        usersArr: updateObjectInArray(state.usersArr, action.userId, 'id', {\n          followed: false,\n        }),\n      }\n\n    case SET_USERS:\n      return { ...state, usersArr: action.users }\n\n    case SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.currentPage }\n\n    case SET_TOTAL_USERS_COUNT:\n      return { ...state, totalUsersCount: action.count }\n\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching }\n\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter((id) => id != action.userId),\n      }\n\n    default:\n      return state\n  }\n}\nexport const follow = (userId) => {\n  return { type: FOLLOW, userId }\n}\nexport const unfollow = (userId) => {\n  return { type: UNFOLLOW, userId }\n}\nexport const setUsers = (users) => {\n  return { type: SET_USERS, users }\n}\nexport const setCurrentPage = (currentPage) => {\n  return { type: SET_CURRENT_PAGE, currentPage }\n}\nexport const setTotalUsersCount = (totalUsersCount) => {\n  return { type: SET_TOTAL_USERS_COUNT, count: totalUsersCount }\n}\nexport const toggleIsFetching = (isFetching) => {\n  return { type: TOGGLE_IS_FETCHING, isFetching }\n}\nexport const toggleFollowingProgress = (isFetching, userId) => {\n  return { type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId }\n}\n\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\n  dispatch(toggleIsFetching(true))\n  const data = await userAPI.getUsers(currentPage, pageSize)\n  dispatch(toggleIsFetching(false))\n  dispatch(setUsers(data.items))\n  dispatch(setTotalUsersCount(data.totalCount))\n}\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userId,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleFollowingProgress(true, userId))\n  const data = await apiMethod(userId)\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId))\n  }\n  dispatch(toggleFollowingProgress(false, userId))\n}\n\nexport const followThunk = (userId) => async (dispatch) => {\n  followUnfollowFlow(dispatch, userId, userAPI.postFollow.bind(userId), follow)\n}\n\nexport const unfollowThunk = (userId) => async (dispatch) => {\n  followUnfollowFlow(\n    dispatch,\n    userId,\n    userAPI.deleteFollow.bind(userId),\n    unfollow\n  )\n}\n","module.exports = __webpack_public_path__ + \"static/media/logo.33f5e1fe.png\";","import React from \"react\";\nimport { Result, Button } from \"antd\";\n\nexport const PageNotFound = () => {\n  return (\n    <Result\n      status=\"404\"\n      title=\"404\"\n      subTitle=\"Sorry, the page you visited does not exist.\"\n      extra={<Button type=\"primary\" href=\"/\" >Back Home</Button>}\n    />\n  );\n};\n","import React from \"react\";\n\nexport const HomePage = () => {\n  return (\n    <div>Home Page</div>\n  );\n};","import { getAuth } from './auth-reducer'\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\n\nconst initialState = {\n  initialized: false,\n}\n\nexport const appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      }\n    default:\n      return state\n  }\n}\n\nexport const initializedSuccess = () => {\n  return { type: INITIALIZED_SUCCESS }\n}\n\nexport const initializeApp = () => (dispatch) => {\n  const promise = dispatch(getAuth())\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess())\n  })\n}\n","import { profileAPI } from '../api/api'\n\nconst ADD_POST = 'ADD_POST'\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\nconst SET_STATUS = 'SET_STATUS'\n\nconst initialState = {\n  posts: [\n    { id: 0, text: 'Мой первый пост' },\n    { id: 1, text: 'Мой второй пост' },\n    { id: 2, text: 'Мой третий пост' },\n  ],\n  profile: null,\n  status: '',\n}\n\nexport const profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST: {\n      const obj = {\n        id: state.posts.length,\n        text: action.text,\n      }\n      return {\n        ...state,\n        posts: [...state.posts, obj],\n      }\n    }\n    case SET_USER_PROFILE: {\n      return { ...state, profile: action.profile }\n    }\n    case SET_STATUS: {\n      return { ...state, status: action.status }\n    }\n    default:\n      return state\n  }\n}\n\nexport const addPostActionCreator = (text) => ({\n  text,\n  type: ADD_POST,\n})\nexport const setUserProfile = (profile) => {\n  return {\n    type: SET_USER_PROFILE,\n    profile,\n  }\n}\nexport const setStatus = (status) => {\n  return {\n    type: SET_STATUS,\n    status,\n  }\n}\n\nexport const getProfileThunk = (params, setLoading) => async (dispatch) => {\n  setLoading(true)\n  try {\n    const response = await profileAPI.getProfile(params)\n    dispatch(setUserProfile(response?.data))\n    setLoading(false)\n  } catch (error) {\n    setLoading(false)\n  }\n}\n\nexport const getUserStatus = (userId) => async (dispatch) => {\n  const response = await profileAPI.getStatus(userId)\n  dispatch(setStatus(response.data))\n}\n\nexport const updateStatus = (status, setLoading) => async (dispatch) => {\n  setLoading(true)\n  const response = await profileAPI.updateStatus(status)\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status))\n    setLoading(false)\n  }\n}\n","import React from 'react'\n\nexport const Post = (props) => {\n  return <div>{props.postText}</div>\n}\n","import React from 'react'\nimport { Input, Form, Button } from 'antd'\n\nexport const MyPostsForm = ({ addPost }) => {\n  const [form] = Form.useForm()\n\n  const onSubmit = (values) => {\n    addPost(values.textInput)\n    form.setFieldsValue({\n      textInput: '',\n    })\n  }\n\n  return (\n    <Form onFinish={onSubmit} form={form}>\n      <Form.Item\n        name=\"textInput\"\n        style={{ marginBottom: 7 }}\n        rules={[\n          {\n            pattern: '^[A-Za-z!.?, ]*$',\n            message: 'Use only latin symbols',\n          },\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              if (!value || getFieldValue('textInput').length <= 5) {\n                return Promise.resolve()\n              }\n              return Promise.reject('Max length is 5 simbols!')\n            },\n          }),\n        ]}\n      >\n        <Input.TextArea\n          autoSize\n          onChange={(e) => {\n            if (!/^[A-Za-z!.?, ]*$/.test(e.currentTarget.value)) {\n              form.setFieldsValue({\n                textInput: e.currentTarget.value.slice(0, -1),\n              })\n              form.validateFields()\n            }\n          }}\n          style={{ width: '300px' }}\n        />\n      </Form.Item>\n      <Form.Item style={{ marginBottom: 25 }} shouldUpdate>\n        {() => (\n          <Button\n            type=\"dashed\"\n            htmlType=\"submit\"\n            disabled={\n              !form.isFieldsTouched(true) ||\n              !!form.getFieldsError().filter(({ errors }) => errors.length)\n                .length\n            }\n          >\n            Add Post\n          </Button>\n        )}\n      </Form.Item>\n    </Form>\n  )\n}\n","import React from 'react'\nimport { Post } from './Post'\nimport { MyPostsForm } from './MyPostForm'\nimport styled from 'styled-components'\n\nexport const MyPosts = ({ addPost, posts }) => {\n  return (\n    <div>\n      <MyPostsForm addPost={addPost} />\n      <Container>\n        {posts.map((item) => {\n          return <Post postText={item.text} key={item.id} />\n        })}\n      </Container>\n    </div>\n  )\n}\nconst Container = styled.div`\n  max-width: 300px;\n  border: 2px solid palevioletred;\n`\n","import { addPostActionCreator } from '../../../redux/profile-reducer'\nimport { MyPosts } from './MyPosts'\nimport { connect } from 'react-redux'\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.profile.posts,\n  }\n}\n\nconst mapDispatchToProps = { addPost: addPostActionCreator }\n\nexport const MyPostsContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyPosts)\n","import React, { useState, useEffect } from 'react'\nimport { Input, Spin } from 'antd'\nimport styled from 'styled-components'\n\nconst i18n = { statusPlaceholder: 'Your status' }\n\nexport const ProfileStatus = (props) => {\n  const [editMode, setEditMode] = useState(false)\n  const [status, setStatus] = useState(props?.status)\n  const [loading, setLoading] = useState(false)\n  useEffect(() => {\n    setStatus(props.status)\n  }, [props.status])\n\n  const handleDoubleClick = () => {\n    if (props.userId === '13090' || props.userId === undefined) {\n      setEditMode(true)\n    }\n  }\n\n  const handleInputBlur = () => {\n    setEditMode(false)\n    if (props.status !== status) {\n      props.updateStatus(status, setLoading)\n    }\n  }\n\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value)\n  }\n\n  return (\n    <StyleContainer>\n      {editMode ? (\n        <Input\n          onChange={onStatusChange}\n          onBlur={handleInputBlur}\n          value={status}\n          style={{ width: '300px' }}\n          autoFocus\n          placeholder={'Status'}\n        />\n      ) : (\n        <div>\n          {loading ? (\n            <Spin />\n          ) : (\n            <span\n              onDoubleClick={handleDoubleClick}\n              style={{ opacity: props.status ? 1 : 0.3, paddingLeft: '12px' }}\n            >\n              {status || i18n.statusPlaceholder}\n            </span>\n          )}\n        </div>\n      )}\n    </StyleContainer>\n  )\n}\n\nconst StyleContainer = styled.div`\n  height: 40px;\n  align-items: center;\n  display: flex;\n`\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { MyPostsContainer } from './MyPosts/MyPostsContainer'\nimport {\n  getProfileThunk,\n  getUserStatus,\n  updateStatus,\n} from '../../redux/profile-reducer'\nimport { useParams } from 'react-router-dom'\nimport { Spin } from 'antd'\nimport styled from 'styled-components'\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\nimport { compose } from 'redux'\nimport { ProfileStatus } from './ProfileStatus'\n\nconst ProfileContainer = ({\n  profile,\n  status,\n  getProfileThunk,\n  getUserStatus,\n  updateStatus,\n}) => {\n  const params = useParams()\n\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    getProfileThunk(params, setLoading)\n    getUserStatus(params.id || 13090)\n  }, [])\n  if (loading) {\n    return (\n      <SpinContainer>\n        <Spin tip=\"Loading...\" size=\"large\" />\n      </SpinContainer>\n    )\n  }\n\n  return (\n    <div>\n      <div>\n        <h1>{profile ? profile.fullName : 'Users name'} </h1>\n        {`About me: ${profile?.aboutMe}`}\n        <div>\n          <img src={profile?.photos?.small} />\n        </div>\n        <ProfileStatus\n          status={status}\n          updateStatus={updateStatus}\n          userId={params.id}\n        />\n      </div>\n      <h1>My Post</h1>\n      <MyPostsContainer />\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.profile.profile,\n    status: state.profile.status,\n  }\n}\nconst mapDispatchToProps = {\n  getProfileThunk,\n  getUserStatus,\n  updateStatus,\n}\n\nexport const Profile = compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(ProfileContainer)\n\nconst SpinContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n`\n","import React, { Suspense } from 'react'\n\nexport const withSuspense = (Component) => {\n  return (props) => {\n    return (\n      <Suspense fallback={<div>Loading...</div>}>\n        <Component {...props} />\n      </Suspense>\n    )\n  }\n}\n","import React, { useState, useEffect, lazy } from 'react'\nimport { Layout, Menu, Spin } from 'antd'\nimport {\n  HomeOutlined,\n  ProfileOutlined,\n  UsergroupAddOutlined,\n  CommentOutlined,\n  SettingOutlined,\n} from '@ant-design/icons'\nimport 'antd/dist/antd.css'\nimport './App.css'\nimport logo from './logo.png'\nimport { Route, Switch, Link, withRouter } from 'react-router-dom'\nimport { PageNotFound } from './components/PageNotFound/PageNotFound'\nimport { HomePage } from './components/HomePage/HomePage'\nimport styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { initializeApp } from './redux/app-reducer'\nimport { compose } from 'redux'\nimport { Profile } from './components/Profile/Profile'\nimport { withSuspense } from './hoc/withSuspense'\n\nconst DialogsContainer = lazy(() =>\n  import('./components/Dialogs/DialogsContainer')\n)\nconst LoginContainer = lazy(() => import('./components/Login/LoginContainer'))\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'))\n\nconst { Header, Content, Footer, Sider } = Layout\nconst { Item } = Menu\n\nconst App = ({ location, initialized, initializeApp }) => {\n  const [activeKey, setActiveKey] = useState('')\n  useEffect(() => {\n    initializeApp()\n  }, [])\n\n  useEffect(() => {\n    if (location.pathname.includes('/', 1)) {\n      setActiveKey(\n        location.pathname.substring(0, location.pathname.indexOf('/', 1))\n      )\n    } else {\n      setActiveKey(location.pathname)\n    }\n  }, [location])\n\n  return (\n    <>\n      {!initialized ? (\n        <SpinContainer>\n          <Spin tip=\"Loading...\" size=\"large\" />\n        </SpinContainer>\n      ) : (\n        <Layout style={{ minHeight: '100vh' }}>\n          <Sider>\n            <div className=\"logo\">\n              <img src={logo} />\n            </div>\n            <StyledMenu theme=\"dark\" selectedKeys={[activeKey]}>\n              <Item key=\"/\" icon={<HomeOutlined />}>\n                <Link to=\"/\">Home</Link>\n              </Item>\n              <Item key=\"/profile\" icon={<ProfileOutlined />}>\n                <Link to=\"/profile\">Profile</Link>\n              </Item>\n              <Item key=\"/users\" icon={<UsergroupAddOutlined />}>\n                <Link to=\"/users\">Users</Link>\n              </Item>\n              <Item key=\"/dialogs\" icon={<CommentOutlined />}>\n                <Link to=\"/dialogs\">Dialogs</Link>\n              </Item>\n              <Item key=\"/login\" icon={<SettingOutlined />}>\n                <Link to=\"/login\">Login</Link>\n              </Item>\n            </StyledMenu>\n          </Sider>\n          <Layout className=\"site-layout\">\n            <Header className=\"site-layout-background\" style={{ padding: 0 }} />\n            <Content style={{ margin: '16px' }}>\n              <div\n                className=\"site-layout-background\"\n                style={{ padding: 24, height: '100%' }}\n              >\n                <Switch>\n                  <Route exact path=\"/\" component={HomePage} />\n                  <Route path=\"/profile/:id\" render={() => <Profile />} />\n                  <Route exact path=\"/profile\" render={() => <Profile />} />\n                  <Route\n                    exact\n                    path=\"/users\"\n                    render={withSuspense(UsersContainer)}\n                  />\n                  <Route\n                    exact\n                    path=\"/dialogs\"\n                    render={withSuspense(DialogsContainer)}\n                  />\n                  <Route\n                    exact\n                    path=\"/login\"\n                    render={withSuspense(LoginContainer)}\n                  />\n                  <Route path=\"*\" component={PageNotFound} />\n                </Switch>\n              </div>\n            </Content>\n            <Footer style={{ textAlign: 'center' }}></Footer>\n          </Layout>\n        </Layout>\n      )}\n    </>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  }\n}\nconst mapDispatchToProps = {\n  initializeApp,\n}\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(App)\n\nconst StyledMenu = styled(Menu)`\n  min-height: calc(100% - 120px);\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 30px;\n\n  .ant-menu-item:last-child {\n    margin-top: auto;\n  }\n`\nconst SpinContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n`\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\nimport { profileReducer } from './profile-reducer'\nimport { dialogsReducer } from './dialogs-reducer'\nimport { usersArrReducer } from './users-reducer'\nimport { authReducer } from './auth-reducer'\nimport ThunkMiddleware from 'redux-thunk'\nimport { appReducer } from './app-reducer'\n\nconst reducers = combineReducers({\n  profile: profileReducer,\n  dialogs: dialogsReducer,\n  users: usersArrReducer,\n  auth: authReducer,\n  app: appReducer,\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nexport const store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(ThunkMiddleware))\n)\n\nwindow.__store__ = store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { HashRouter, withRouter } from 'react-router-dom'\nimport { store } from './redux/redux-store'\nimport { Provider } from 'react-redux'\n\nconst AppWithRouter = withRouter((props) => <App {...props} />)\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <AppWithRouter />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n)\n","import * as axios from 'axios'\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  headers: {\n    'API-KEY': 'ed4a67f8-9eef-4f4c-86ad-a0230918bd68',\n  },\n})\n\nexport const userAPI = {\n  getUsers(currentPage, pageSize) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .catch((error) => {\n        console.log(error)\n      })\n      .then((response) => response.data)\n  },\n  postFollow(userId) {\n    return instance\n      .post(`follow/${userId}`, {})\n      .catch((error) => {\n        console.log(error)\n      })\n      .then((response) => response.data)\n  },\n  deleteFollow(userId) {\n    return instance\n      .delete(`follow/${userId}`)\n      .catch((error) => {\n        console.log(error)\n      })\n      .then((response) => response.data)\n  },\n}\nexport const profileAPI = {\n  getProfile(params) {\n    return instance.get(`profile/${params.id ? params.id : 13090}`)\n  },\n  getStatus(userId) {\n    return instance.get(`/profile/status/${userId}`)\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status/`, { status: status })\n  },\n}\nexport const authAPI = {\n  getAuthMe() {\n    return instance.get(`auth/me`).then((response) => response.data)\n  },\n  postLogin(email, password, rememberMe = false) {\n    return instance.post('auth/login', { email, password, rememberMe })\n  },\n  deleteLogout() {\n    return instance.delete('auth/login')\n  },\n}\n","import { authAPI } from '../api/api'\n\nconst SET_USER_DATA = 'SET_USER_DATA'\nconst SET_ERROR = 'SET_ERROR'\n\nconst initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  isFetching: false,\n  errorMessage: '',\n}\n\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.data,\n      }\n    case SET_ERROR:\n      return {\n        ...state,\n        errorMessage: action.errorMessage,\n      }\n    default:\n      return state\n  }\n}\n\nexport const setAuthUserData = (id, login, email, isAuth) => {\n  return { type: SET_USER_DATA, data: { id, login, email, isAuth } }\n}\nexport const setErrorMessage = (errorMessage) => {\n  return { type: SET_ERROR, errorMessage }\n}\n\nexport const getAuth = () => async (dispatch) => {\n  const data = await authAPI.getAuthMe()\n  if (data.resultCode === 0) {\n    const { id, login, email } = data.data\n    dispatch(setAuthUserData(id, login, email, true))\n  }\n}\n\nexport const postLogin = (email, password, rememberMe) => async (dispatch) => {\n  const response = await authAPI.postLogin(email, password, rememberMe)\n  if (response.data.resultCode === 0) {\n    dispatch(getAuth())\n  } else {\n    dispatch(setErrorMessage(response.data.messages[0]))\n  }\n}\n\nexport const deleteLogout = () => async (dispatch) => {\n  const response = await authAPI.deleteLogout()\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false))\n  }\n}\n"],"sourceRoot":""}